"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Ajax=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ajaxRequest",value:function(){var o=document.querySelector(".readMore").dataset.pagination;document.querySelector(".readMore").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".ajax-section"),n=new XMLHttpRequest;n.open("POST",ajaxurl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),n.onload=function(){200<=this.status&&this.status<400?(t.insertAdjacentHTML("beforeend",this.response),o++,max_paged<o&&(document.querySelector(".readMore").style.display="none")):console.log(this.response)},n.send("action=ajax-morePhotos&pagination="+o)})}},{key:"autoComplete",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e,t,n=object_name.templateUrl;e=function(e){var t=JSON.parse(e);o(t)},(t=new XMLHttpRequest).overrideMimeType("animals/json"),t.open("GET",n+"/assets/scripts/animals.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null);var o=function(r){new autoComplete({selector:'input[name="name"]',minChars:0,offsetTop:5,source:function(e,t){e=e.toLowerCase();for(var n=r,o=[],a=0;a<n.length;a++)~n[a].name.toLowerCase().indexOf(e)&&o.push(n[a].name);t(o)}})}})}]),e}(),$ajax=new Ajax;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}document.querySelector(".readMore")&&$ajax.ajaxRequest(),$ajax.autoComplete();var Animations=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"mainDataTransition",value:function(){var r=document.querySelectorAll(".js-RegionPage__mainData"),s=r[0].offsetTop;window.addEventListener("scroll",function(){if(pageYOffset>=s-.75*window.innerHeight){var e=!0,t=!1,n=void 0;try{for(var o,a=r[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.style.opacity="1"}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}})}},{key:"basicTransition",value:function(){var n=document.querySelectorAll(".js-transitions"),o=[],e=!0,t=!1,a=void 0;try{for(var r,s=n[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;o.push(i.offsetTop)}}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}window.addEventListener("scroll",function(){var e=pageYOffset;console.log("scroll : "+e);for(var t=0;t<o.length;t++)console.log("element : "+o[t]),e>=o[t]-.75*window.innerHeight&&(n[t].style.opacity="1",console.log("ouch"))})}}]),e}(),animations=new Animations;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.querySelector(".js-RegionPage__mainData")&&animations.mainDataTransition(),document.querySelector(".js-transitions")&&animations.basicTransition();var autoComplete=function(e){function r(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function n(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}function o(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)}function t(o,e,a,t){n(t||document,e,function(e){for(var t,n=e.target||e.srcElement;n&&!(t=r(n,o));)n=n.parentElement;t&&a.call(n,e)})}if(document.querySelector){var s={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var n=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(n,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(var a in e)e.hasOwnProperty(a)&&(s[a]=e[a]);for(var i="object"==_typeof(s.selector)?[s.selector]:document.querySelectorAll(s.selector),l=0;l<i.length;l++){var c=i[l];c.sc=document.createElement("div"),c.sc.className="autocomplete-suggestions "+s.menuClass,c.autocompleteAttr=c.getAttribute("autocomplete"),c.setAttribute("autocomplete","off"),c.cache={},c.last_val="",c.updateSC=function(e,t){var n=c.getBoundingClientRect();if(c.sc.style.left=Math.round(n.left+(window.pageXOffset||document.documentElement.scrollLeft)+s.offsetLeft)+"px",c.sc.style.top=Math.round(n.bottom+(window.pageYOffset||document.documentElement.scrollTop)+s.offsetTop)+"px",c.sc.style.width=Math.round(n.right-n.left)+"px",!e&&(c.sc.style.display="block",c.sc.maxHeight||(c.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(c.sc,null):c.sc.currentStyle).maxHeight)),c.sc.suggestionHeight||(c.sc.suggestionHeight=c.sc.querySelector(".autocomplete-suggestion").offsetHeight),c.sc.suggestionHeight))if(t){var o=c.sc.scrollTop,a=t.getBoundingClientRect().top-c.sc.getBoundingClientRect().top;0<a+c.sc.suggestionHeight-c.sc.maxHeight?c.sc.scrollTop=a+c.sc.suggestionHeight+o-c.sc.maxHeight:a<0&&(c.sc.scrollTop=a+o)}else c.sc.scrollTop=0},n(window,"resize",c.updateSC),document.body.appendChild(c.sc),t("autocomplete-suggestion","mouseleave",function(){var e=c.sc.querySelector(".autocomplete-suggestion.selected");e&&setTimeout(function(){e.className=e.className.replace("selected","")},20)},c.sc),t("autocomplete-suggestion","mouseover",function(){var e=c.sc.querySelector(".autocomplete-suggestion.selected");e&&(e.className=e.className.replace("selected","")),this.className+=" selected"},c.sc),t("autocomplete-suggestion","mousedown",function(e){if(r(this,"autocomplete-suggestion")){var t=this.getAttribute("data-val");c.value=t,s.onSelect(e,t,this),c.sc.style.display="none"}},c.sc),c.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?c!==document.activeElement&&setTimeout(function(){c.focus()},20):(c.last_val=c.value,c.sc.style.display="none",setTimeout(function(){c.sc.style.display="none"},350))},n(c,"blur",c.blurHandler);var u=function(e){var t=c.value;if((c.cache[t]=e).length&&t.length>=s.minChars){for(var n="",o=0;o<e.length;o++)n+=s.renderItem(e[o],t);c.sc.innerHTML=n,c.updateSC(0)}else c.sc.style.display="none"};c.keydownHandler=function(e){var t,n=window.event?e.keyCode:e.which;if((40==n||38==n)&&c.sc.innerHTML)return(o=c.sc.querySelector(".autocomplete-suggestion.selected"))?(t=40==n?o.nextSibling:o.previousSibling)?(o.className=o.className.replace("selected",""),t.className+=" selected",c.value=t.getAttribute("data-val")):(o.className=o.className.replace("selected",""),c.value=c.last_val,t=0):((t=40==n?c.sc.querySelector(".autocomplete-suggestion"):c.sc.childNodes[c.sc.childNodes.length-1]).className+=" selected",c.value=t.getAttribute("data-val")),c.updateSC(0,t),!1;if(27==n)c.value=c.last_val,c.sc.style.display="none";else if(13==n||9==n){var o;(o=c.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=c.sc.style.display&&(s.onSelect(e,o.getAttribute("data-val"),o),setTimeout(function(){c.sc.style.display="none"},20))}},n(c,"keydown",c.keydownHandler),c.keyupHandler=function(e){var t=window.event?e.keyCode:e.which;if(!t||(t<35||40<t)&&13!=t&&27!=t){var n=c.value;if(n.length>=s.minChars){if(n!=c.last_val){if(c.last_val=n,clearTimeout(c.timer),s.cache){if(n in c.cache)return void u(c.cache[n]);for(var o=1;o<n.length-s.minChars;o++){var a=n.slice(0,n.length-o);if(a in c.cache&&!c.cache[a].length)return void u([])}}c.timer=setTimeout(function(){s.source(n,u)},s.delay)}}else c.last_val=n,c.sc.style.display="none"}},n(c,"keyup",c.keyupHandler),c.focusHandler=function(e){c.last_val="\n",c.keyupHandler(e)},s.minChars||n(c,"focus",c.focusHandler)}this.destroy=function(){for(var e=0;e<i.length;e++){var t=i[e];o(window,"resize",t.updateSC),o(t,"blur",t.blurHandler),o(t,"focus",t.focusHandler),o(t,"keydown",t.keydownHandler),o(t,"keyup",t.keyupHandler),t.autocompleteAttr?t.setAttribute("autocomplete",t.autocompleteAttr):t.removeAttribute("autocomplete"),document.body.removeChild(t.sc),t=null}}}};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}"function"==typeof define&&define.amd?define("autoComplete",function(){return autoComplete}):"undefined"!=typeof module&&module.exports?module.exports=autoComplete:window.autoComplete=autoComplete;var GridNumber=function(){function e(){_classCallCheck(this,e),this.count()}return _createClass(e,[{key:"count",value:function(){for(var e=document.querySelectorAll(".grid-menu__number"),t=(document.querySelector(".animal-wrapper"),0);t<e.length;t++)e[t].innerHTML=t+1}}]),e}(),gridNumb=new GridNumber;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var LazyLoading=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(){for(var o=Array.from(document.querySelectorAll(".js-lazyload")),e=function(){var e=o[a],t=e.querySelector("img"),n=document.createElement("img");n.addEventListener("load",function(){e.classList.add("loaded")}),n.src=t.src},a=0;a<o.length;a++)e()}}]),e}(),lazyLoading=new LazyLoading;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}lazyLoading.parse(),console.log("test"),console.log("Deux test"),console.log("Trois test"),console.log("Quatre test"),console.log("Cinq test"),console.log("Six test"),console.log("Sept test");var NavBar=function(){function e(){_classCallCheck(this,e),this.navItems(),this.hamburgerMenu()}return _createClass(e,[{key:"navItems",value:function(){for(var e=document.querySelectorAll(".menu-item"),t=window.location.href,n=0;n<e.length;n++){e[n].firstChild.toString()==t&&e[n].appendChild(document.createElement("div")).classList.add("nav__active")}}},{key:"hamburgerMenu",value:function(){var e=document.querySelector(".hamburger"),t=document.querySelector(".nav__links");document.querySelector("main");e.addEventListener("click",function(){t.classList.toggle("is-active"),e.classList.toggle("is-active")})}}]),e}(),navigation=new NavBar;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Parallax=function(){function e(){_classCallCheck(this,e),this.setItems()}return _createClass(e,[{key:"setItems",value:function(){var e=document.querySelectorAll(".js-parallax");if(0!=e.length){this.items=new Array;var t=!0,n=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value,i={};i.$element=s,i.amplitude=parseFloat(s.dataset.amplitude),i.offsetX=0,i.offsetY=0,this.items.push(i)}}catch(e){n=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw o}}this.setMouse(),this.setAnimation()}}},{key:"setMouse",value:function(){var t=this;this.mouse={},this.mouse.x=0,this.mouse.y=0;var n=window.innerWidth,o=window.innerHeight;window.addEventListener("resize",function(){n=window.innerWidth,o=window.innerHeight}),window.addEventListener("mousemove",function(e){t.mouse.x=e.clientX/n-.5,t.mouse.y=e.clientY/o-.5})}},{key:"setAnimation",value:function(){var f=this;!function e(){window.requestAnimationFrame(e);var t=!0,n=!1,o=void 0;try{for(var a,r=f.items[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value,i=100*-f.mouse.x*s.amplitude,l=100*-f.mouse.y*s.amplitude;s.offsetX+=.05*(i-s.offsetX),s.offsetY+=.05*(l-s.offsetY);var c=Math.round(100*s.offsetX)/100,u=Math.round(100*s.offsetY)/100;s.$element.style.transform="translateX(".concat(c,"px) translateY(").concat(u,"px)")}}catch(e){n=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw o}}}()}}]),e}(),parallax=new Parallax;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var NewMouse=function(){function e(){_classCallCheck(this,e),this.setMouse(),this.setEffect()}return _createClass(e,[{key:"setMouse",value:function(){document.body.style.cursor="none";var t,n,e=document.querySelector("body"),o=document.querySelector(".wrap__ball-js");e.addEventListener("mousemove",function(e){t=e.clientX||e.pageX,n=e.clientY||e.pageY});var a=0,r=0,s=0,i=0;!function e(){requestAnimationFrame(e),a&&r?(s=.125*(t-a),i=.125*(n-r),Math.abs(s)+Math.abs(i)<.1?(a=t,r=n):(a+=s,r+=i)):(a=t,r=n),o.style.left=a+"px",o.style.top=r+window.pageYOffset+"px"}()}},{key:"setEffect",value:function(){var r,s;document.documentElement.addEventListener("mousemove",function(e){s=e});var i=0;setInterval(function(){if(r&&s){var e=Math.abs(s.screenX-r.screenX),t=Math.abs(s.screenY-r.screenY),n=10*Math.sqrt(e*e+t*t),o=10*(n-i),a=document.querySelector(".wrap__ball-js");0<o?(a.style.width=n/100+10+"px",a.style.height=n/100+10+"px"):(a.style.height="20px",a.style.width="20px")}r=s,i=0},100)}}]),e}();if(document.querySelector(".wrap"))var $newMouse=new NewMouse;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var VideoDisplayer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"display",value:function(){if(document.querySelector(".wrapperAnimal__home__footer__video")){var e=document.querySelector(".wrapperAnimal__home__footer__video"),t=document.querySelector(".wrapperAnimal__home__displayVideo"),n=document.querySelector(".wrapperAnimal__home__close"),o=(document.querySelector("#video"),!1);e.addEventListener("click",function(){1==o?(o=!1,t.classList.remove("active"),n.classList.remove("active")):0==o&&(o=!0,t.classList.add("active"),n.classList.add("active"))}),n.addEventListener("click",function(){o=!1,t.classList.remove("active"),n.classList.remove("active")})}}}]),e}(),displayer=new VideoDisplayer;displayer.display();